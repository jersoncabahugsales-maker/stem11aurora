<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grade 11 Aurora STEM Portal</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #7c3aed;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 30px;
      border-radius: 12px;
      width: 400px;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
      font-size: 20px;
    }
    input {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border: none;
      border-radius: 6px;
    }
    button {
      width: 100%;
      padding: 10px;
      margin-top: 15px;
      background-color: #4ade80;
      border: none;
      border-radius: 6px;
      color: black;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background-color: #22c55e;
    }
    .footer {
      margin-top: 15px;
      font-size: 12px;
      color: #ddd;
    }
    .hidden {
      display: none;
    }
    table {
      width: 100%;
      margin-top: 15px;
      border-collapse: collapse;
      background: white;
      color: black;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f3f4f6;
    }
  </style>
</head>
<body>
  <div class="container" id="loginPage">
    <h1>Grade-11 Aurora (STEM) Class</h1>
    <input type="text" id="accessCode" placeholder="Enter Access Code">
    <input type="text" id="lrn" placeholder="Enter LRN">
    <button onclick="login()">Login</button>
    <div id="message" class="footer"></div>
  </div>

  <div class="container hidden" id="studentDashboard">
    <h1>Welcome, Student</h1>
    <p id="studentInfo"></p>
    <button onclick="logout()">Logout</button>
  </div>

  <div class="container hidden" id="adminDashboard">
    <h1>Admin Panel</h1>
    <table>
      <thead>
        <tr>
          <th>LRN</th>
          <th>Name</th>
          <th>Grade</th>
        </tr>
      </thead>
      <tbody id="studentTable"></tbody>
    </table>
    <h3>Add Student</h3>
    <input type="text" id="newLRN" placeholder="LRN">
    <input type="text" id="newName" placeholder="Name">
    <input type="text" id="newGrade" placeholder="Grade">
    <button onclick="addStudent()">Add</button>
    <button onclick="logout()">Logout</button>
  </div>

  <script>
    // Simulated "database"
    const students = [
      { lrn: "113797140007", name: "Juan Dela Cruz", grade: "STEM 11 Aurora" },
      { lrn: "113797140008", name: "Maria Clara", grade: "STEM 11 Aurora" }
    ];

    const ACCESS_CODE = "TatakSTEM";
    const ADMIN_CODE = "AdminSTEM"; // admin access code

    function login() {
      const accessCode = document.getElementById("accessCode").value.trim();
      const lrn = document.getElementById("lrn").value.trim();
      const message = document.getElementById("message");

      // Admin login
      if (accessCode === ADMIN_CODE) {
        document.getElementById("loginPage").classList.add("hidden");
        document.getElementById("adminDashboard").classList.remove("hidden");
        renderTable();
        return;
      }

      // Student login
      if (accessCode === ACCESS_CODE) {
        const student = students.find(s => s.lrn === lrn);
        if (student) {
          document.getElementById("loginPage").classList.add("hidden");
          document.getElementById("studentDashboard").classList.remove("hidden");
          document.getElementById("studentInfo").innerText =
            `LRN: ${student.lrn}\nName: ${student.name}\nSection: ${student.grade}`;
        } else {
          message.innerHTML = "❌ LRN not found.";
          message.style.color = "red";
        }
      } else {
        message.innerHTML = "❌ Invalid Access Code.";
        message.style.color = "red";
      }
    }

    function logout() {
      document.getElementById("loginPage").classList.remove("hidden");
      document.getElementById("studentDashboard").classList.add("hidden");
      document.getElementById("adminDashboard").classList.add("hidden");
      document.getElementById("accessCode").value = "";
      document.getElementById("lrn").value = "";
      document.getElementById("message").innerHTML = "";
    }

    function renderTable() {
      const table = document.getElementById("studentTable");
      table.innerHTML = "";
      students.forEach(s => {
        table.innerHTML += `
          <tr>
            <td>${s.lrn}</td>
            <td>${s.name}</td>
            <td>${s.grade}</td>
          </tr>`;
      });
    }

    function addStudent() {
      const lrn = document.getElementById("newLRN").value.trim();
      const name = document.getElementById("newName").value.trim();
      const grade = document.getElementById("newGrade").value.trim();

      if (lrn && name && grade) {
        students.push({ lrn, name, grade });
        renderTable();

        // clear inputs
        document.getElementById("newLRN").value = "";
        document.getElementById("newName").value = "";
        document.getElementById("newGrade").value = "";
      } else {
        alert("Please fill all fields!");
      }
    }
  </script>
</body>
</html>
