<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dimasalang National High School Portal</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eaf6ff;
      margin: 0;
      padding: 0;
    }
    header {
      background: #1a73e8;
      color: white;
      padding: 10px 20px;
      display: flex;
      align-items: center;
    }
    header img {
      margin-right: 15px;
      border-radius: 8px;
    }
    header h1 {
      font-size: 22px;
      margin: 0;
    }
    header p {
      font-size: 14px;
      margin: 0;
    }
    .container {
      text-align: center;
      padding: 30px;
    }
    input, select, button {
      padding: 8px;
      margin: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #1a73e8;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #0c47a1;
    }
    .hidden {
      display: none;
    }
    table {
      border-collapse: collapse;
      margin: 20px auto;
      background: white;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #ddd;
      padding: 6px 10px;
    }
    th {
      background: #1a73e8;
      color: white;
    }
    #congrats-message {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      color: #1a4b7a;
      text-align: center;
    }
  </style>
</head>
<body>

<header>
  <a href="index.html">
    <img src="https://drive.google.com/uc?id=1_T4_-2ufDacbCf7u2vKP8mkMGG9-Tmjm" 
         alt="Dimasalang National High School Logo" width="60">
  </a>
  <div>
    <h1>Dimasalang National High School</h1>
    <p>Dimasalang, Masbate</p>
  </div>
</header>

<div class="container" id="login-screen">
  <h2>Welcome! Please enter the code</h2>
  <input type="password" id="access-code" placeholder="Enter code">
  <button onclick="checkCode()">Submit</button>
</div>

<!-- General Math Interface -->
<div class="container hidden" id="genmath-screen">
  <h2>Welcome to General Mathematics Grade Viewing Database</h2>
  <p>Select your section:</p>
  <button onclick="selectSection('Ember')">11 – Ember (HUMSS)</button>
  <button onclick="selectSection('Oasis')">11 – Oasis (GAS)</button>
  <button onclick="selectSection('Solstice')">11 – Solstice (GAS)</button>
  <button onclick="selectSection('Meadow')">11 – Meadow (GAS)</button>
  <br><br>
  <button onclick="logout()">Log out</button>
</div>

<div class="container hidden" id="genmath-lrn-screen">
  <h2>Enter your LRN</h2>
  <input type="text" id="genmath-lrn" placeholder="Enter LRN">
  <button onclick="checkGenMathLRN()">Submit</button>
  <br><br>
  <button onclick="backToGenMath()">Back</button>
</div>

<div class="container hidden" id="genmath-result"></div>

<!-- TatakSTEM Interface -->
<div class="container hidden" id="stem-screen">
  <h2>Welcome to Grade-11 Aurora (STEM) Database</h2>
  <p>Please enter your LRN:</p>
  <input type="text" id="stem-lrn" placeholder="Enter LRN">
  <button onclick="checkStemLRN()">Submit</button>
  <br><br>
  <button onclick="logout()">Log out</button>
</div>

<div class="container hidden" id="stem-result"></div>

<!-- Admin Mode -->
<div class="container hidden" id="admin-screen">
  <h2>Admin Mode – Masterlist</h2>
  <p>Edit the grades and info directly in this table.</p>
  <div id="admin-table"></div>
  <br>
  <button onclick="logout()">Log out</button>
</div>

<script>
  // Databases
  const genMathData = {
    "Ember": {
      "113597140014": {name:"AFABLE, CLARENS ANTIPOLO", grade:74},
      "113610140002": {name:"ALFORTE, RANNEL JOHN BALDEO", grade:78},
      // ... (shortened for demo, add all your Ember students here)
    },
    "Oasis": {
      "113606140050": {name:"Arimbuyutan, Nhel John Elyson A.", grade:76},
      "113602140005": {name:"Belarmino, Mark Dm H.", grade:83},
      // ... (add all Oasis students here)
    }
    // Add Solstice + Meadow as well
  };

  const stemData = {
    "113797140007": {name:"Alutaya, MJ O.", subjects:{}, final:0},
    "113604140025": {name:"Aparente, Austin Jolf S.", subjects:{}, final:0}
    // ... Add all 32 STEM students here
  };

  let currentSection = "";

  function checkCode(){
    const code = document.getElementById("access-code").value;
    if(code==="GenMath2025"){
      document.getElementById("login-screen").classList.add("hidden");
      document.getElementById("genmath-screen").classList.remove("hidden");
    } else if(code==="TatakSTEM"){
      document.getElementById("login-screen").classList.add("hidden");
      document.getElementById("stem-screen").classList.remove("hidden");
    } else if(code==="675915"){
      document.getElementById("login-screen").classList.add("hidden");
      document.getElementById("admin-screen").classList.remove("hidden");
      loadAdminTable();
    } else {
      alert("Invalid code.");
    }
  }

  function logout(){
    document.querySelectorAll(".container").forEach(el=>el.classList.add("hidden"));
    document.getElementById("login-screen").classList.remove("hidden");
    document.getElementById("access-code").value="";
  }

  // GenMath
  function selectSection(section){
    currentSection = section;
    document.getElementById("genmath-screen").classList.add("hidden");
    document.getElementById("genmath-lrn-screen").classList.remove("hidden");
  }
  function backToGenMath(){
    document.getElementById("genmath-lrn-screen").classList.add("hidden");
    document.getElementById("genmath-screen").classList.remove("hidden");
  }
  function checkGenMathLRN(){
    const lrn=document.getElementById("genmath-lrn").value;
    const sectionData=genMathData[currentSection];
    if(sectionData && sectionData[lrn]){
      const student=sectionData[lrn];
      let msg="";
      if(student.grade>=75){
        msg="Congratulations! You passed the subject. Continue improving!";
      } else {
        msg="May second quarter pa, pwedeng-pwede pang bumawi!";
      }
      document.getElementById("genmath-lrn-screen").classList.add("hidden");
      document.getElementById("genmath-result").innerHTML=`
        <h3>${student.name}</h3>
        <p>LRN: ${lrn}</p>
        <p>General Math Grade: <b>${student.grade}</b></p>
        <p>${msg}</p>
        <div id="congrats-message">
          Congratulations! You survived the First Quarter of School Year 2025-2026 — Sir Jerson
        </div>
        <br><button onclick="logout()">Log out</button>
      `;
      document.getElementById("genmath-result").classList.remove("hidden");
    } else {
      alert("Invalid LRN for this section.");
    }
  }

  // STEM
  function checkStemLRN(){
    const lrn=document.getElementById("stem-lrn").value;
    if(stemData[lrn]){
      const s=stemData[lrn];
      let subjectsHTML="<table><tr><th>Subject</th><th>Grade</th></tr>";
      for(let sub in s.subjects){
        subjectsHTML+=`<tr><td>${sub}</td><td>${s.subjects[sub]}</td></tr>`;
      }
      subjectsHTML+="</table>";
      document.getElementById("stem-screen").classList.add("hidden");
      document.getElementById("stem-result").innerHTML=`
        <h3>${s.name}</h3>
        <p>LRN: ${lrn}</p>
        ${subjectsHTML}
        <p>Final Average: <b>${s.final}</b></p>
        <div id="congrats-message">
          Congratulations! You survived the First Quarter of School Year 2025-2026 — Sir Jerson
        </div>
        <br><button onclick="logout()">Log out</button>
      `;
      document.getElementById("stem-result").classList.remove("hidden");
    } else {
      alert("Invalid LRN.");
    }
  }

  // Admin
  function loadAdminTable(){
    document.getElementById("admin-table").innerHTML="<p>(Editable table placeholder for grades database)</p>";
  }
</script>

</body>
</html>
