<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>General Mathematics Grade Viewer</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url('https://img.freepik.com/free-vector/mathematics-background-doodle-style_23-2148592519.jpg') no-repeat center center fixed;
      background-size: cover;
    }
    .overlay {
      background-color: rgba(255,255,255,0.9);
      min-height: 100vh;
      padding: 30px;
      text-align: center;
    }
    h1, h2, h3 {
      color: #004080;
    }
    .hidden {
      display: none;
    }
    select, input, button {
      margin: 10px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      background: #4da6ff;
      color: white;
      cursor: pointer;
      border: none;
    }
    button:hover {
      background: #1a8cff;
    }
    table {
      margin: 20px auto;
      border-collapse: collapse;
      width: 90%;
    }
    table, th, td {
      border: 1px solid #888;
      padding: 8px;
    }
    th {
      background: #cce6ff;
    }
    .logout {
      margin-top: 20px;
      background: #e60000;
    }
  </style>
</head>
<body>
<div class="overlay">
  <div id="welcome">
    <h1>Welcome to General Mathematics Class</h1>
    <h2>Subject Teacher: Jerson C. Sales</h2>
    <input type="password" id="passcode" placeholder="Enter Passcode">
    <button onclick="checkPasscode()">Login</button>
    <p id="error" style="color:red;"></p>
  </div>

  <div id="main" class="hidden">
    <h1>General Mathematics Grade Viewing Database</h1>
    <h3>Select Your Section</h3>
    <select id="sectionSelect">
      <option value="">--Choose Section--</option>
      <option value="Aurora">Aurora</option>
      <option value="Ember">Ember</option>
      <option value="Oasis">Oasis</option>
      <option value="Solstice">Solstice</option>
      <option value="Meadow">Meadow</option>
    </select>
    <div id="lrnInput" class="hidden">
      <input type="text" id="lrn" placeholder="Enter your LRN">
      <button onclick="viewGrade()">View Grade</button>
    </div>
    <div id="studentInfo" class="hidden"></div>
    <button class="logout hidden" id="logoutBtn" onclick="logout()">Logout</button>
  </div>

  <div id="admin" class="hidden">
    <h1>Admin Mode</h1>
    <table id="adminTable"></table>
    <button class="logout" onclick="logout()">Logout</button>
  </div>
</div>

<script>
const studentData = {
  "Aurora": [
    ["113797140007","Alutaya, MJ O.",88],
    ["113604140025","Aparente, Austin Jolf S.",85],
    ["113604140026","Arizobal, Robert Jules O.",91],
    ["113606150076","Atacador, Rey Kenneth C.",91],
    ["113606130113","Capellan, Kian Carl N.",83],
    ["113602140018","Delara, Jhonpyu A.",92],
    ["113602140008","Delara, Joeren Joules O.",92],
    ["113606150001","Dilao, Mark Lawrence P.",94],
    ["113606140061","Gabelo, Yeshuah Ashliegh B.",87],
    ["113606150116","Gamba, Renzell Wen G.",86],
    ["113951140031","Manlapaz, Mark Laurence B.",88],
    ["113606140170","Paraguya, Josua E.",85],
    ["113605140018","Piodos, John Errol M.",91],
    ["113612140017","Raymundo, Kyle Nathan M.",86],
    ["113597140007","Resma, Lenard B.",94],
    ["113599140008","Retuerto, Remark Fel R.",95],
    ["113606140109","Valle, Jahn Aj Vhin T.",95],
    ["113606140130","Almero, Mikaela Mildred D.",92],
    ["113606140132","Arizala, Rain A.",89],
    ["113786140015","Atega, Dianne Ashly M.",83],
    ["113608140025","Cabrera, Wenchie P.",94],
    ["113606140142","Cervantes, Nica A.",90],
    ["113589140014","Edem, Jeramie M.",83],
    ["113606140173","Huelva, Jelianne S.",92],
    ["113597140060","IbaÃ±ez, Carmela O.",89],
    ["113597140060","Jores, Cristel B.",90],
    ["113597140026","Malunes, Fricel Blaze A.",94],
    ["113599140030","Pelayo, Trecia Faith C.",84],
    ["402104150245","Peteros, Lhola Belle E.",92],
    ["113677130163","Salazar, Shane A.",91],
    ["113609140024","Tagbacaola, Irene A.",96],
    ["113782140023","Tamayo, Mary Antoniette A.",97]
  ]
  // Add Ember, Oasis, Solstice, Meadow similarly...
};

let currentMode = "";

function checkPasscode(){
  const code = document.getElementById("passcode").value;
  if(code === "GenMath2025"){
    currentMode = "student";
    document.getElementById("welcome").classList.add("hidden");
    document.getElementById("main").classList.remove("hidden");
  } else if(code === "675915"){
    currentMode = "admin";
    document.getElementById("welcome").classList.add("hidden");
    document.getElementById("admin").classList.remove("hidden");
    loadAdminTable();
  } else {
    document.getElementById("error").innerText = "Invalid passcode.";
  }
}

document.getElementById("sectionSelect").addEventListener("change", function(){
  if(this.value){
    document.getElementById("lrnInput").classList.remove("hidden");
  } else {
    document.getElementById("lrnInput").classList.add("hidden");
    document.getElementById("studentInfo").classList.add("hidden");
  }
});

function viewGrade(){
  const section = document.getElementById("sectionSelect").value;
  const lrn = document.getElementById("lrn").value.trim();
  const students = studentData[section] || [];
  const student = students.find(s => s[0] === lrn);
  const infoDiv = document.getElementById("studentInfo");
  if(student){
    let message = student[2] >= 75 ? 
      "Congratulations! You passed the subject. Continue improving!" : 
      "Sorry, you did not pass. Keep trying!";
    infoDiv.innerHTML = `
      <h2>General Mathematics</h2>
      <p><b>Full Name:</b> ${student[1]}</p>
      <p><b>LRN:</b> ${student[0]}</p>
      <p><b>Grade:</b> ${student[2]}</p>
      <p><i>${message}</i></p>
      <p><b>Message from Teacher:</b> Keep striving for excellence and never stop learning!</p>
    `;
    infoDiv.classList.remove("hidden");
    document.getElementById("logoutBtn").classList.remove("hidden");
  } else {
    infoDiv.innerHTML = "<p style='color:red;'>LRN not found in this section.</p>";
    infoDiv.classList.remove("hidden");
  }
}

function loadAdminTable(){
  const table = document.getElementById("adminTable");
  table.innerHTML = "<tr><th>Section</th><th>LRN</th><th>Full Name</th><th>Grade</th><th>Edit</th></tr>";
  for(const section in studentData){
    studentData[section].forEach((s,i)=>{
      table.innerHTML += `
        <tr>
          <td>${section}</td>
          <td>${s[0]}</td>
          <td>${s[1]}</td>
          <td><input type="number" value="${s[2]}" min="0" max="100" onchange="updateGrade('${section}',${i},this.value)"></td>
          <td><button onclick="deleteStudent('${section}',${i})">Delete</button></td>
        </tr>
      `;
    });
  }
}

function updateGrade(section, index, newGrade){
  studentData[section][index][2] = parseInt(newGrade);
}

function deleteStudent(section, index){
  studentData[section].splice(index,1);
  loadAdminTable();
}

function logout(){
  currentMode = "";
  document.getElementById("main").classList.add("hidden");
  document.getElementById("admin").classList.add("hidden");
  document.getElementById("welcome").classList.remove("hidden");
  document.getElementById("passcode").value = "";
}
</script>
</body>
</html>
